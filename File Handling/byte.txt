Using with automatically closes the file after execution, preventing memory leaks